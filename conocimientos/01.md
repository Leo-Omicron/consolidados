Perfecto 🙌 Aquí te dejo un **`SPEC.md` inicial** para complementar el `README.md`. Este documento está pensado como guía técnica para el equipo (humano + IA) y sirve como contrato de arquitectura, datos y flujos principales del Dashboard Académico.

---

````markdown
# 📐 SPEC.md – Dashboard Académico

## 📖 Descripción del sistema
El Dashboard Académico es una aplicación web que permite a instituciones educativas:
- Cargar archivos **Excel/CSV** con registros de estudiantes, asignaturas y notas.
- Procesar y normalizar la información en un modelo de datos estructurado.
- Generar métricas de desempeño académico (KPI).
- Visualizar datos en **tablas** y **gráficos interactivos**.
- Exportar/Importar estados del análisis vía **backup JSON**.
- Persistir configuración de usuario (filtros, pestañas) en `localStorage`.

---

## 🏗️ Arquitectura del sistema
- **Frontend SPA** en **React** con TailwindCSS.
- **Sin backend**: toda la lógica y procesamiento ocurre en el navegador.
- **Módulos principales**:
  1. `UploadView` – Carga y validación de archivos Excel/CSV.
  2. `DashboardTabs` – Navegación entre vistas.
  3. `DashboardView` – Tablas de análisis académico.
  4. `DashboardCharts` – Visualizaciones con Chart.js.
  5. `QuickReportsView` – Consultas rápidas por curso.
  6. `Backup/Restore` – Persistencia de datos y estado.

---

## 📊 Modelo de datos

### Entidad: `Estudiante`
```ts
type Estudiante = {
  id: string
  nombre: string
  curso: string
  asignaturas: Asignatura[]
}
````

### Entidad: `Asignatura`

```ts
type Asignatura = {
  id: string
  nombre: string
  area: string
  periodo: number
  nota: number
  estado: Estado
}
```

### Enumerado: `Estado`

```ts
enum Estado {
  GANADO = "Ganado",
  RECUPERABLE = "Recuperable",
  EN_RIESGO = "En riesgo",
  PERDIDO = "Perdido"
}
```

### Entidad: `KPI`

```ts
type KPI = {
  estudiantesTotales: number
  promedioGeneral: number
  distribucionEstados: Record<Estado, number>
  promediosPorArea: Record<string, number>
}
```

### Entidad: `Reporte`

```ts
type Reporte = {
  curso: string
  estudiantes: Estudiante[]
  kpi: KPI
}
```

---

## 🔄 Flujos principales

### 1. Carga de archivo

1. Usuario selecciona archivo XLSX/CSV.
2. `UploadView` valida extensión y tamaño.
3. Se usa **SheetJS** para leer y convertir datos a `Estudiante[]`.
4. Normalización: nombres → `normTxt`, generación de `Estado` según nota.
5. Datos propagados al estado global.

### 2. Análisis (Tablas)

1. `DashboardView` recibe dataset.
2. Renderiza tabla de estudiantes → asignaturas.
3. Calcula KPIs: promedios, distribución por estado.
4. Permite filtrar por curso/área/estado.

### 3. Visualización (Gráficos)

1. Usuario navega a **tab Gráficos**.
2. `DashboardCharts` genera datasets agregados.
3. Crea instancias de gráficos (barras, pastel, radar).
4. Gráficos se sincronizan con filtros activos.

### 4. Consultas rápidas

1. Usuario abre **QuickReportsView**.
2. Selecciona curso → se muestran KPIs y tabla reducida.
3. Permite exportar resultados.

### 5. Backup/Restore

1. Estado actual (dataset + filtros) serializado a JSON.
2. Usuario descarga archivo `.json`.
3. En restauración → JSON validado y recargado al estado global.

---

## ⚠️ Riesgos identificados

* **Rendimiento**: Parsing XLSX en main thread bloquea UI en archivos grandes.
* **Seguridad**: Uso de CDNs sin SRI ni CSP.
* **Mantenibilidad**: Código en un único HTML; difícil de testear y escalar.
* **Pruebas**: No existen tests automáticos → riesgo de regresiones.

---

## ✅ Reglas técnicas

* Todas las funciones de parsing y derivación deben ser **puras y testeables**.
* Cada componente React debe ser **atómico y aislado**.
* Estado compartido manejado vía **Context o Zustand**.
* Persistencia limitada a configuraciones (no datos sensibles).
* **Tests unitarios obligatorios** en cada módulo nuevo.

---

## 🛠️ Tecnologías propuestas (post-migración)

* **React + TypeScript + Vite**
* **TailwindCSS** (modo JIT, PostCSS)
* **Chart.js** con `react-chartjs-2`
* **SheetJS/XLSX**
* **Vitest/Jest + Testing Library + Playwright**
* **GitHub Actions** (CI/CD)

---

## 📌 Roadmap inicial

* **Iteración 1**: Migrar estructura a Vite + TS.
* **Iteración 2**: Extraer parser XLSX a `src/lib/xlsx.ts` + tests.
* **Iteración 3**: Implementar gestión de estado (Context/Zustand).
* **Iteración 4**: Refactor de DashboardCharts con carga bajo demanda.
* **Iteración 5**: Agregar CI/CD y políticas de seguridad (CSP, SRI).

```

---

¿Quieres que prepare también un **`tasks.md`** con prompts operativos (estilo paso a paso, Vibe Coding) para que Copilot los use directamente en VS Code durante la migración?
```
