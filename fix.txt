Persisten inconsistencias y errores en el Sistema de Informes por Periodos:

1. El sistema no reconoce las notas previamente cargadas para habilitar el bot√≥n **"Generar Reporte"**, el cual permanece desactivado (gris). Solo se activa al vaciar la memoria y recargar manualmente un archivo Excel, lo cual no deber√≠a ser necesario, ya que las notas se mantienen persistentes en otros paneles incluso tras recargar la p√°gina.

2. Al ingresar al panel de Informes por Periodos se genera autom√°ticamente un reporte (aparentemente de **Estad√≠sticas Consolidadas**, ya que es el tipo de reporte predeterminado), aunque este no deber√≠a generarse sin acci√≥n del usuario. Finalmente, no se produce ning√∫n resultado v√°lido: en la secci√≥n üìã **Resultados del Reporte** aparece en rojo el error:

   ```
   Error: generateReport debe ser llamada desde el contexto correcto
   ```

3. Si se cambia el tipo de reporte, por ejemplo: **Rendimiento por estudiante ‚Üí Estudiante: Todos los estudiantes**, al presionar "Generar Reporte" aparece en la zona de resultados el mensaje:

   ```
   Reporte de rendimiento por estudiante en desarrollo...
   {
     "error": "generateReport debe ser llamada desde el contexto correcto",
     "fallbackMessage": "Esta funci√≥n est√° siendo llamada fuera de contexto"
   }
   ```

4. En la secci√≥n de **Diagn√≥stico del sistema**, al ejecutar la validaci√≥n completa se obtiene:

   ```
   ‚ùå Error en Diagn√≥sticos
   ```

   Y al probar con datos simulados se registran los siguientes errores de consola:

   * `Uncaught ReferenceError: formatGradeForReport is not defined`
   * `Uncaught ReferenceError: buildDerived is not defined`
   * Errores relacionados con `generateReport` siendo llamada fuera de contexto.

5. Para el resto de tipos de reporte, los errores son similares y bloquean la funcionalidad.

üëâ Revisa, analiza y corrige estos problemas asegurando que:

* El sistema detecte autom√°ticamente las notas previamente cargadas sin necesidad de recargar archivos.
* El bot√≥n **"Generar Reporte"** se habilite cuando existan datos v√°lidos.
* No se generen reportes autom√°ticamente al ingresar al panel.
* Todas las funciones (`generateReport`, `formatGradeForReport`, `buildDerived`, etc.) est√©n correctamente definidas y ejecutadas en el contexto adecuado.
* La generaci√≥n de reportes funcione de forma estable para todos los tipos de reporte disponibles.
